[gd_scene load_steps=18 format=3 uid="uid://dbpduxph7i4un"]

[ext_resource type="PackedScene" uid="uid://cj328pklybftr" path="res://Scenes/playable_entity.tscn" id="1_1ghbi"]
[ext_resource type="Shader" path="res://Shaders/water.gdshader" id="2_y0lyp"]
[ext_resource type="PackedScene" uid="uid://bgsqb4crtxjdv" path="res://Models/default_player.glb" id="3_bedqt"]
[ext_resource type="PackedScene" uid="uid://ct6otkc8hp4r5" path="res://Scenes/enemy.tscn" id="4_yh8j2"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_5m1kb"]
sky_top_color = Color(0.713726, 0.831373, 0.964706, 1)
sky_horizon_color = Color(0.427451, 0.658824, 0.866667, 1)
ground_bottom_color = Color(0.333333, 0.286275, 0.235294, 1)
ground_horizon_color = Color(0.427451, 0.658824, 0.866667, 1)

[sub_resource type="Sky" id="Sky_5mgh6"]
sky_material = SubResource("ProceduralSkyMaterial_5m1kb")

[sub_resource type="Environment" id="Environment_48g3g"]
background_mode = 2
sky = SubResource("Sky_5mgh6")
ssao_enabled = true
ssil_enabled = true
glow_enabled = true

[sub_resource type="PlaneMesh" id="PlaneMesh_dmcfv"]
subdivide_width = 30
subdivide_depth = 30

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_jiptj"]
albedo_color = Color(0.737255, 0.737255, 0.737255, 1)

[sub_resource type="WorldBoundaryShape3D" id="WorldBoundaryShape3D_twym7"]

[sub_resource type="BoxMesh" id="BoxMesh_p5lcw"]

[sub_resource type="BoxShape3D" id="BoxShape3D_k8rs6"]

[sub_resource type="FastNoiseLite" id="FastNoiseLite_s2nbn"]
fractal_type = 3

[sub_resource type="NoiseTexture2D" id="NoiseTexture2D_5d6vp"]
noise = SubResource("FastNoiseLite_s2nbn")

[sub_resource type="FastNoiseLite" id="FastNoiseLite_dftql"]
frequency = 0.005

[sub_resource type="NoiseTexture2D" id="NoiseTexture2D_iu7xf"]
noise = SubResource("FastNoiseLite_dftql")

[sub_resource type="ShaderMaterial" id="ShaderMaterial_oo8qg"]
render_priority = 0
shader = ExtResource("2_y0lyp")
shader_parameter/depth_fade_distance = 5.854
shader_parameter/absorbance = 0.596
shader_parameter/shallow_color = Color(0.22, 0.66, 1, 1)
shader_parameter/deep_color = Color(0, 0.282353, 0.505882, 1)
shader_parameter/foam_amount = 0.2
shader_parameter/foam_color = Color(1, 1, 1, 1)
shader_parameter/roughness = 0.0
shader_parameter/wave_scale = 0.1
shader_parameter/height_scale = 0.01
shader_parameter/wave_dir1 = Vector2(1, 0)
shader_parameter/wave_dir2 = Vector2(0, 1)
shader_parameter/wave_speed = 0.015
shader_parameter/foam_noise = SubResource("NoiseTexture2D_5d6vp")
shader_parameter/wave_texture = SubResource("NoiseTexture2D_iu7xf")

[node name="PlayerLevel" type="Node3D"]

[node name="playableEntity" parent="." instance=ExtResource("1_1ghbi")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.521212, 0)

[node name="LightingAndStuff" type="Node3D" parent="."]
transform = Transform3D(0.840147, 0.129974, 0.526554, 0.0501119, 0.948104, -0.313986, -0.540038, 0.290181, 0.790034, 0, -0.529358, 0)

[node name="WorldEnvironment" type="WorldEnvironment" parent="LightingAndStuff"]
environment = SubResource("Environment_48g3g")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="LightingAndStuff"]
transform = Transform3D(0.571502, -0.73638, 0.36212, 0.137994, 0.521244, 0.842177, -0.808915, -0.431335, 0.399508, 0, 3.02253, 0)
shadow_enabled = true

[node name="level" type="Node3D" parent="."]

[node name="Plane" type="StaticBody3D" parent="level"]
transform = Transform3D(9.05414, 0, 0, 0, 9.05414, 0, 0, 0, 9.05414, 0, 0, 0)

[node name="CSGMesh3D" type="CSGMesh3D" parent="level/Plane"]
mesh = SubResource("PlaneMesh_dmcfv")
material = SubResource("StandardMaterial3D_jiptj")

[node name="CollisionShape3D" type="CollisionShape3D" parent="level/Plane"]
transform = Transform3D(0.110447, 0, 0, 0, 0.110447, 0, 0, 0, 0.110447, 0, 0, 0)
shape = SubResource("WorldBoundaryShape3D_twym7")

[node name="StaticBody3D2" type="StaticBody3D" parent="level"]
transform = Transform3D(2.08776, 0, 0, 0, 2.08776, 0, 0, 0, 2.08776, 6.48003, 0, -4.15354)

[node name="CSGMesh3D" type="CSGMesh3D" parent="level/StaticBody3D2"]
mesh = SubResource("BoxMesh_p5lcw")
material = SubResource("StandardMaterial3D_jiptj")

[node name="CollisionShape3D" type="CollisionShape3D" parent="level/StaticBody3D2"]
shape = SubResource("BoxShape3D_k8rs6")

[node name="StaticBody3D9" type="StaticBody3D" parent="level"]
transform = Transform3D(10.309, 0, 0, 0, 34.1601, 0, 0, 0, 10.309, 6.48003, -4.5225, 26.0642)

[node name="CSGMesh3D" type="CSGMesh3D" parent="level/StaticBody3D9"]
mesh = SubResource("BoxMesh_p5lcw")
material = SubResource("StandardMaterial3D_jiptj")

[node name="CSGMesh3D2" type="CSGMesh3D" parent="level/StaticBody3D9"]
transform = Transform3D(0.820756, 0, 0, 0, 0.820756, 0, 0, 0, 0.820756, -0.797189, -0.135095, -0.550457)
mesh = SubResource("BoxMesh_p5lcw")
material = SubResource("StandardMaterial3D_jiptj")

[node name="CSGMesh3D3" type="CSGMesh3D" parent="level/StaticBody3D9"]
transform = Transform3D(0.820756, 0, 0, 0, 0.820756, 0, 0, 0, 0.820756, 2.57903, -0.135095, -2.95687)
mesh = SubResource("BoxMesh_p5lcw")
material = SubResource("StandardMaterial3D_jiptj")

[node name="CSGMesh3D4" type="CSGMesh3D" parent="level/StaticBody3D9"]
transform = Transform3D(1.39096, 0, 0, 0, 1.39096, 0, 0, 0, 1.39096, 2.57903, -0.135095, -1.99821)
mesh = SubResource("BoxMesh_p5lcw")
material = SubResource("StandardMaterial3D_jiptj")

[node name="CSGMesh3D6" type="CSGMesh3D" parent="level/StaticBody3D9"]
transform = Transform3D(1.39096, 0, 0, 0, 1.39096, 0, 0, 0, 1.39096, -4.2282, -0.135095, -1.99821)
mesh = SubResource("BoxMesh_p5lcw")
material = SubResource("StandardMaterial3D_jiptj")

[node name="CSGMesh3D7" type="CSGMesh3D" parent="level/StaticBody3D9"]
transform = Transform3D(1.39096, 0, 0, 0, 1.39096, 0, 0, 0, 1.39096, -7.51807, -0.135095, 4.58802)
mesh = SubResource("BoxMesh_p5lcw")
material = SubResource("StandardMaterial3D_jiptj")

[node name="CSGMesh3D8" type="CSGMesh3D" parent="level/StaticBody3D9"]
transform = Transform3D(1.39096, 0, 0, 0, 1.39096, 0, 0, 0, 1.39096, -6.72347, 0.236381, -7.7105)
mesh = SubResource("BoxMesh_p5lcw")
material = SubResource("StandardMaterial3D_jiptj")

[node name="CSGMesh3D9" type="CSGMesh3D" parent="level/StaticBody3D9"]
transform = Transform3D(1.39096, 0, 0, 0, 1.39096, 0, 0, 0, 1.39096, -0.604345, 0.163712, -8.75189)
mesh = SubResource("BoxMesh_p5lcw")
material = SubResource("StandardMaterial3D_jiptj")

[node name="CSGMesh3D10" type="CSGMesh3D" parent="level/StaticBody3D9"]
transform = Transform3D(0.797372, 0, 0, 0, 0.797372, 0, 0, 0, 0.797372, 0.0749412, 0.163712, -8.14782)
mesh = SubResource("BoxMesh_p5lcw")
material = SubResource("StandardMaterial3D_jiptj")

[node name="CSGMesh3D11" type="CSGMesh3D" parent="level/StaticBody3D9"]
transform = Transform3D(0.797372, 0, 0, 0, 0.797372, 0, 0, 0, 0.797372, -5.83674, 0.163712, -8.31044)
mesh = SubResource("BoxMesh_p5lcw")
material = SubResource("StandardMaterial3D_jiptj")

[node name="CSGMesh3D12" type="CSGMesh3D" parent="level/StaticBody3D9"]
transform = Transform3D(0.797372, 0, 0, 0, 0.797372, 0, 0, 0, 0.797372, -6.98739, -0.101601, 4.03096)
mesh = SubResource("BoxMesh_p5lcw")
material = SubResource("StandardMaterial3D_jiptj")

[node name="CSGMesh3D13" type="CSGMesh3D" parent="level/StaticBody3D9"]
transform = Transform3D(0.797372, 0, 0, 0, 0.797372, 0, 0, 0, 0.797372, -8.85294, -0.201568, 4.07178)
mesh = SubResource("BoxMesh_p5lcw")
material = SubResource("StandardMaterial3D_jiptj")

[node name="CSGMesh3D14" type="CSGMesh3D" parent="level/StaticBody3D9"]
transform = Transform3D(0.797372, 0, 0, 0, 0.797372, 0, 0, 0, 0.797372, 2.12108, -0.201568, -3.34027)
mesh = SubResource("BoxMesh_p5lcw")
material = SubResource("StandardMaterial3D_jiptj")

[node name="CSGMesh3D15" type="CSGMesh3D" parent="level/StaticBody3D9"]
transform = Transform3D(0.797372, 0, 0, 0, 0.797372, 0, 0, 0, 0.797372, -0.305066, -0.201568, -0.434357)
mesh = SubResource("BoxMesh_p5lcw")
material = SubResource("StandardMaterial3D_jiptj")

[node name="CSGMesh3D16" type="CSGMesh3D" parent="level/StaticBody3D9"]
transform = Transform3D(0.797372, 0, 0, 0, 0.797372, 0, 0, 0, 0.797372, -6.11883, 0.0421536, -7.73184)
mesh = SubResource("BoxMesh_p5lcw")
material = SubResource("StandardMaterial3D_jiptj")

[node name="CSGMesh3D17" type="CSGMesh3D" parent="level/StaticBody3D9"]
transform = Transform3D(0.797372, 0, 0, 0, 0.797372, 0, 0, 0, 0.797372, -1.26353, 0.0129058, -8.22629)
mesh = SubResource("BoxMesh_p5lcw")
material = SubResource("StandardMaterial3D_jiptj")

[node name="CSGMesh3D5" type="CSGMesh3D" parent="level/StaticBody3D9"]
transform = Transform3D(1.39096, 0, 0, 0, 1.39096, 0, 0, 0, 1.39096, 2.89541, -0.321788, -1.44228)
mesh = SubResource("BoxMesh_p5lcw")
material = SubResource("StandardMaterial3D_jiptj")

[node name="StaticBody3D3" type="StaticBody3D" parent="level"]
transform = Transform3D(2.08776, 0, 0, 0, 2.08776, 0, 0, 0, 2.08776, 6.43944, 1.03758, -2.44066)

[node name="CSGMesh3D" type="CSGMesh3D" parent="level/StaticBody3D3"]
mesh = SubResource("BoxMesh_p5lcw")
material = SubResource("StandardMaterial3D_jiptj")

[node name="CollisionShape3D" type="CollisionShape3D" parent="level/StaticBody3D3"]
shape = SubResource("BoxShape3D_k8rs6")

[node name="StaticBody3D4" type="StaticBody3D" parent="level"]
transform = Transform3D(2.08776, 0, 0, 0, 2.08776, 0, 0, 0, 2.08776, 6.43944, 1.96867, -0.469719)

[node name="CSGMesh3D" type="CSGMesh3D" parent="level/StaticBody3D4"]
mesh = SubResource("BoxMesh_p5lcw")
material = SubResource("StandardMaterial3D_jiptj")

[node name="CollisionShape3D" type="CollisionShape3D" parent="level/StaticBody3D4"]
shape = SubResource("BoxShape3D_k8rs6")

[node name="StaticBody3D6" type="StaticBody3D" parent="level"]
transform = Transform3D(2.08776, 0, 0, 0, 2.08776, 0, 0, 0, 2.08776, 6.43944, 2.96642, 7.48221)

[node name="CSGMesh3D" type="CSGMesh3D" parent="level/StaticBody3D6"]
mesh = SubResource("BoxMesh_p5lcw")
material = SubResource("StandardMaterial3D_jiptj")

[node name="CollisionShape3D" type="CollisionShape3D" parent="level/StaticBody3D6"]
shape = SubResource("BoxShape3D_k8rs6")

[node name="StaticBody3D8" type="StaticBody3D" parent="level"]
transform = Transform3D(6.99487, 0, 0, 0, 2.08776, 0, 0, 0, 12.3095, -10.4575, 7.13224, -0.0213795)

[node name="CSGMesh3D" type="CSGMesh3D" parent="level/StaticBody3D8"]
mesh = SubResource("BoxMesh_p5lcw")
material = SubResource("StandardMaterial3D_jiptj")

[node name="CollisionShape3D" type="CollisionShape3D" parent="level/StaticBody3D8"]
shape = SubResource("BoxShape3D_k8rs6")

[node name="StaticBody3D7" type="StaticBody3D" parent="level"]
transform = Transform3D(13.7602, 0.123724, -0.429858, -4.20586, 0.404782, 0.131388, 3.17223, 6.14114e-10, 2.0388, -1.17318, 5.72035, 6.00247)

[node name="CSGMesh3D" type="CSGMesh3D" parent="level/StaticBody3D7"]
mesh = SubResource("BoxMesh_p5lcw")
material = SubResource("StandardMaterial3D_jiptj")

[node name="CollisionShape3D" type="CollisionShape3D" parent="level/StaticBody3D7"]
shape = SubResource("BoxShape3D_k8rs6")

[node name="StaticBody3D5" type="StaticBody3D" parent="level"]
transform = Transform3D(2.08776, 0, 0, 0, 0.703112, 0, 0, 0, 6.5492, 6.43944, 2.96468, 3.64008)

[node name="CSGMesh3D" type="CSGMesh3D" parent="level/StaticBody3D5"]
mesh = SubResource("BoxMesh_p5lcw")
material = SubResource("StandardMaterial3D_jiptj")

[node name="CollisionShape3D" type="CollisionShape3D" parent="level/StaticBody3D5"]
shape = SubResource("BoxShape3D_k8rs6")

[node name="WaterPlane" type="CSGMesh3D" parent="."]
transform = Transform3D(747.61, 0, 0, 0, 747.61, 0, 0, 0, 747.61, -1.05154, -6.55035, -0.0951823)
mesh = SubResource("PlaneMesh_dmcfv")
material = SubResource("ShaderMaterial_oo8qg")

[node name="default_player" parent="." instance=ExtResource("3_bedqt")]
transform = Transform3D(0.795501, 0.500678, 0.118099, 0.209205, -0.116186, -0.916614, -0.469956, 0.795782, -0.208131, 13.8408, 2.78089, 6.94502)

[node name="enemy" parent="." instance=ExtResource("4_yh8j2")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3.78709, 0.507801, -6.67909)
current_type = 1

[node name="enemy2" parent="." node_paths=PackedStringArray("rigidBody") instance=ExtResource("4_yh8j2")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.98545, 0.507801, -6.67909)
rigidBody = NodePath("../enemy/ai_walk/PlayerBody")
current_type = 0

[node name="enemy3" parent="." node_paths=PackedStringArray("rigidBody") instance=ExtResource("4_yh8j2")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -6.00857, 0.507801, -4.73762)
rigidBody = NodePath("../enemy/ai_walk/PlayerBody")
current_type = 2

[node name="enemy4" parent="." node_paths=PackedStringArray("rigidBody") instance=ExtResource("4_yh8j2")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -6.00857, 0.507801, -0.325026)
rigidBody = NodePath("../enemy/ai_walk/PlayerBody")
current_type = 1

[node name="enemy5" parent="." node_paths=PackedStringArray("rigidBody") instance=ExtResource("4_yh8j2")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -6.00857, 0.507801, 4.1144)
rigidBody = NodePath("../enemy/ai_walk/PlayerBody")
current_type = 2
